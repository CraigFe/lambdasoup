<div class="info">
  <p>
    Lambda Soup is an HTML data extraction and analysis library, in the sense of
    Python's
    <a href="http://www.crummy.com/software/BeautifulSoup/">Beautiful Soup</a>.
    It supports various element traversals, CSS selectors, DOM manipulations,
    and conversion of loaded HTML back to string. This very documentation page
    was generated by <code>ocamldoc</code> and
    <a href="https://github.com/aantron/lambda-soup/blob/master/docs/postprocess.ml">
      postprocessed</a> by Lambda Soup!
  </p>

  <p>Here are some usage examples:</p>

  <pre><code class="code">open Soup

let soup = read_channel stdin |> parse in

(* Print the page title. *)
soup $ "title" |> R.leaf_text |> print_endline;

(* Print the targets of all links. *)
soup $$ "a[href]"
|> iter (fun a -> R.attribute "href" a |> print_endline);

(* Find the first unordered list. *)
let ul = soup $ "ul" in

(* Print the contents of all its items. *)
ul $$ "li" |> to_list
|> List.iter (fun li ->
  trimmed_texts li |> String.concat "" |> print_endline)

(* Find all subsequent sibling elements of the same list. *)
let _ = ul $$ "~ *" in

(* Find all previous sibling elements instead. *)
let _ = ul |> previous_siblings |> elements in

(* ... *)</code></pre>

  <p>
    Lambda Soup is based around two types: <em>nodes</em>, whose meaning should
    be obvious, and <em>traversals</em>, which are lazy sequences of nodes. The
    top-level node is the <em>soup</em> node (a.k.a. document node), which you
    typically get by calling <code>parse</code> on a string containing HTML.
  </p>

  <p>
    Once you have a node, you can call functions such as
    <code>descendants</code>, <code>ancestors</code>,
    <code>previous_siblings</code>, and, most commonly of all,
    <code>select</code>, to get to other nodes. Once there, you can start new
    traversals, compute values, cause side effects, and do whatever your
    application requires. Traversals come with a typical suite of functional
    transformations, such as <code>map</code>, <code>fold</code>, and
    <code>filter</code>. Traversals can also be terminated early, so you don't
    have to go through the entire document once you find the node you are
    looking for.
  </p>

  <p>
    The main goals of Lambda Soup are to be correct and to be easy to use for
    simple scraping and processing tasks. I'd love to hear ways in which the
    interface can be improved. Feedback is very welcome!
  </p>

  <p>
    Lambda Soup is developed on
    <a href="https://github.com/aantron/lambda-soup">GitHub</a> and distributed
    under the BSD license.
  </p>

  <p>
    This documentation page is for version 0.6 of the library.
  </p>
</div>
